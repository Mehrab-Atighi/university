"0","# Load the dataset"
"0","library(fitdistrplus)"
"0","data(""danishuni"")"
"0","loss_data <- danishuni$Loss"
"0",""
"0","# Sort the loss data"
"0","sorted_loss <- sort(loss_data)"
"0","n <- length(sorted_loss)"
"0",""
"0","# Estimate Pareto parameters"
"0","# We'll estimate the scale (sigma) and shape (alpha) using the method of moments"
"0","sigma <- min(loss_data)  # Scale parameter (minimum value of the data)"
"0","alpha <- 1 / (log(mean(loss_data / sigma)))  # Shape parameter"
"0",""
"0","# Generate theoretical quantiles for the Pareto distribution"
"0","pp <- ppoints(n)  # Proportions for quantiles"
"0","pareto_quantiles <- sigma * (1 - pp)^(-1 / alpha)  # Theoretical quantiles"
"0",""
"0","# Create the QQ-plot"
"0","par(mfrow = c(1,1))"
"0","qqplot(y = pareto_quantiles, x = sorted_loss, "
"0","       main = ""QQ-Plot of Loss Data vs Pareto Distribution"","
"0","       xlab = ""Theoretical Quantiles (Pareto)"","
"0","       ylab = ""Empirical Quantiles (Loss)"","
"0","       pch = 16, col = ""blue"")"
